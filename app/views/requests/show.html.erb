<div class="container py-5" >
  <div>
    <h1> <%= @request.user.name %> </h1>
    <% @request.messages.each  do |message|%>
      <% if message.user == current_user %>
        <div class="d-flex justify-content-end" >
          <div class="bg-white px-3 py-3 rounded-5">
            <span> <%= message.content %></span>
          </div>
        </div>
        <div class="d-flex justify-content-end mb-2" >
          <small class="text-secondary fw-light" > <%= message.created_at.strftime("%b %e, %l:%M %p") %> </small>
        </div>
      <% else %>
        <div class="d-flex justify-content-start" >
          <div class="bg-dark text-white px-3 py-3 rounded-5">
            <span> <%= message.content %></span>
          </div>
        </div>
        <div class="d-flex justify-content-start mb-2" >
          <small class="text-secondary fw-light" > <%= message.created_at.strftime("%b %e, %l:%M %p") %> </small>
        </div>
      <% end %>
    <% end %>
    <div class="form-check form-switch" data-controller="toggle">
      <input class="form-check-input" type="checkbox" value="" id="checkNativeSwitch" switch data-action="change->toggle#changeText">
      <label class="form-check-label" for="checkNativeSwitch" data-toggle-target="label">
        Hold Item
      </label>
    </div>
    <%= simple_form_for(@request) do |f| %>
      <%= f.input :pickup_date, as: :date, html5: true %>
      <%= f.submit "Confirm", class: "btn btn-danger rounded-pill ms-2" %>
    <% end %>

    <div class="col-sm-6 my-3">
      <%= simple_form_for [@request, @message] do |f| %>
        <%= f.text_field :content,
        class: "form-control rounded-pill",
        placeholder: "Enter your message"
    %>
        <%= f.submit "Send", class: "btn btn-danger rounded-pill ms-2" %>
      <% end %>

    </div>
  </div>
</div>
