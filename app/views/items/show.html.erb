<div class="container py-4">
  <%= render "shared/navbar-back-messages" %>
  <div class="card border-0 shadow rounded-4">
    <div class="card-body p-0 rounded-bottom-4">
      <!-- Main Image -->
      <div class="position-relative">
        <% if @item.photo.attached? %>
          <%= cl_image_tag @item.photo.key,
                           height: 300,
                           width: 400,
                           crop: :fill,
                           class: "img-fluid w-100" %>
        <% else %>
          <%= image_tag "default-box.svg",
                        class: "img-fluid w-100 p-4 card-image-height" %>
        <% end %>
      </div>
      <div class="p-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2 class="h4 fw-bold mb-0"><%= @item.name %></h2>
          <!-- Message Owner -->
          <div class="mondainai-message-bubble d-flex flex-column align-items-center">
            <% if @request.new_record? %>
              <%= link_to item_requests_path(@item),
                          data: { turbo_method: :post },
                          class: "d-flex flex-column align-items-center mt-2" do %>
                <%= image_tag "message-icon.svg", alt: "Message Owner", width: 40 %>
                <p class="mb-0">Message Owner</p>
              <% end %>
            <% else %>
              <%= link_to request_path(@request),
                          class: "d-flex flex-column align-items-center mt-2" do %>
                <%= image_tag "message-icon.svg", alt: "Message Owner", width: 40 %>
                <p class="mb-0">Message Owner</p>
              <% end %>
            <% end %>
          </div>
        </div>
        <!-- Item details -->
        <div class="row g-2 mb-3">
          <div class="col-6">
            <h5 class="small text-muted mb-1">Dimensions</h5>
            <p class="mb-0"><%= @item.dimensions %></p>
          </div>
          <div class="col-6">
            <h5 class="small text-muted mb-1">Weight</h5>
            <p class="mb-0"><%= @item.weight %></p>
          </div>
        </div>
        <h5 class="small text-muted mb-1">Description</h5>
        <p class="mb-0"><%= @item.description %></p>
      </div>
    </div>
  </div>
</div>
